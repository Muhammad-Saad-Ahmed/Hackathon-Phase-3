# OpenAPI Contract: update_task Tool

## Overview
The `update_task` tool modifies a task's attributes. This tool accepts a task_id and optional fields to update (title, description). At least one field must be provided for the update.

## Endpoint
```
POST /mcp/tools/update_task
```

## Request Body
```json
{
  "task_id": {
    "type": "integer",
    "minimum": 1,
    "description": "The ID of the task to update (required)"
  },
  "title": {
    "type": "string",
    "minLength": 1,
    "maxLength": 255,
    "description": "New title for the task (optional)",
    "nullable": true
  },
  "description": {
    "type": "string",
    "maxLength": 1000,
    "description": "New description for the task (optional)",
    "nullable": true
  }
}
```

## Successful Response
```json
{
  "success": true,
  "data": {
    "id": 123,
    "title": "Buy organic groceries",
    "description": "Milk, eggs, bread (organic)",
    "status": "pending",
    "created_at": "2023-10-05T14:48:00.000Z"
  },
  "message": "Task updated successfully"
}
```

## Error Responses

### Validation Error (400)
```json
{
  "success": false,
  "error": "Validation failed",
  "code": "VALIDATION_ERROR",
  "details": {
    "field": "title",
    "message": "Title must be between 1 and 255 characters"
  }
}
```

### Missing Fields Error (400)
```json
{
  "success": false,
  "error": "No fields to update",
  "code": "NO_UPDATE_FIELDS",
  "details": {
    "message": "At least one field (title or description) must be provided"
  }
}
```

### Not Found Error (404)
```json
{
  "success": false,
  "error": "Task not found",
  "code": "TASK_NOT_FOUND",
  "details": {
    "message": "No task found with the provided ID"
  }
}
```

### Database Error (500)
```json
{
  "success": false,
  "error": "Database error occurred",
  "code": "DATABASE_ERROR",
  "details": {
    "message": "Failed to update task in database"
  }
}
```

## Example Usage
```json
{
  "task_id": 123,
  "title": "Buy organic groceries",
  "description": "Milk, eggs, bread (organic)"
}
```

## Implementation Notes
- At least one of title or description must be provided
- Preserves unchanged fields (status, timestamps)
- Validates input fields before updating
- Returns the updated task object